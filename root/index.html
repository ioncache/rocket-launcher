<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Rocket Launcher</title>
    <link rel="stylesheet" type="text/css" media="all" href="/static/css/rocket.css" />
    <link rel="stylesheet" type="text/css" media="all" href="/static/css/trontastic/jquery-ui-1.8rc3.custom.css" />

    <script type="text/javascript" src="/static/js/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="/static/js/jquery-ui-1.8rc3.custom.min.js"></script>
    <script type="text/javascript" src="/static/js/jquery.disable.text.select.min.js"></script>
    <script type="text/javascript" src="/static/js/jquery.corner.js"></script>

    <script type="text/javascript">

        var is_mousedown = false;

        $(document).ready(function (e) {
            $(".disable_select").disableTextSelect();

            $(document).mousedown(function () {
                is_mousedown = true;
            }).mouseup(function () {
                is_mousedown = false;
            });

            $("#command_buttons div.command_button").corner("15px");

            $("#command_buttons div.cb").bind({
                mousedown: function() {
                    rocket_command(this.id.replace("direction_", ""));
                },
                mouseup: function() {
                    rocket_command("stop");
                },
                mouseleave: function() {
                    if(is_mousedown) {
                        rocket_command("stop");
                    }
                },
                mouseenter: function() {
                    if(is_mousedown) {
                        rocket_command(this.id.replace("direction_", ""));
                    }
                }
            });

            $("#test_num").bind({
                mousedown: function() {
                    rocket_command($("#test_value").val());
                },
                mouseup: function() {
                    rocket_command("stop");
                },
                mouseleave: function() {
                    if(is_mousedown) {
                        rocket_command("stop");
                    }
                },
                mouseenter: function() {
                    if(is_mousedown) {
                        rocket_command($("#test_value").val());
                    }
                }
            });

        });

        function rocket_command(command) {
            $.ajax({
                type: "GET",
                url: "/rocket_command/",
                data: { "command" : command },
                dataType: "json",
                cache: "false",
                beforeSend: function(xhr) {
                },
                success: function(content, status) {
        
                },
                error: function(xhr, status, error) {
                    "There was an error with your request.";
                }
            });
        }

    </script>
</head>
<body style="width: 100%; height: 100%;">

    <div id="main_container">
        <div class="sidebar">
            Scratchpad
        </div>
        <div class="title">Rocket Mayhem</div>
        <div id="command_buttons" class="command_buttons" style="margin-left: auto; margin-right: auto;">
            <div class="button_row">
                <div id="direction_5" class="cb command_button disable_select">
                    UP/LEFT
                </div>
                <div id="up"  class="cb command_button disable_select">
                    UP
                </div>
                <div id="direction_9" class="cb command_button disable_select">
                    UP/RIGHT
                </div>
            </div>
            <div class="button_row">
                <div id="left" class="cb command_button disable_select">
                    LEFT
                </div>
                <div id="fire" class="cb command_button disable_select">
                    FIRE
                </div>
                <div id="right" class="cb command_button disable_select">
                    RIGHT
                </div>
            </div>
            <div class="button_row">
                <div id="direction_6" class="cb command_button disable_select">
                    DOWN/LEFT
                </div>
                <div id="down"  class="cb command_button disable_select">
                    DOWN
                </div>
                <div id="direction_10" class="cb command_button disable_select">
                    DOWN/RIGHT
                </div>
            </div>
            <div class="button_row">
                <div class="test_box">
                     Test value: <input id="test_value" type="text" style="width: 100px; font-size: 18px; height: 30px; text-align: center;" />
                </div>
                <div id="test_num" class="command_button disable_select">
                    TEST
                </div>
            </div>
        </div>
    </div>
</body>
</html>
